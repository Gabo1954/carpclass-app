"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(k,p,s)=>{s.r(p),s.d(p,{HomePageModule:()=>v});var f=s(177),r=s(4742),h=s(4341),u=s(8465),d=s(467),e=s(4438),b=s(164);function y(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-item",22)(1,"ion-label"),e.nrm(2,"ion-icon",23),e.EFF(3),e.k0s(),e.j41(4,"ion-button",24),e.bIt("click",function(){const n=e.eBV(i).$implicit,l=e.XpG();return e.Njj(l.eliminarAsignatura(n.id))}),e.nrm(5,"ion-icon",25),e.k0s()()}if(2&o){const i=a.$implicit;e.R7$(3),e.SpI(" ",i.nombre," ")}}const C=[{path:"",component:(()=>{var o;class a{constructor(t,n,l,c){this.router=t,this.apiService=n,this.alertController=l,this.loadingController=c,this.asignaturas=[],this.userName="",this.role="",this.isLoading=!0}ngOnInit(){var t=this;return(0,d.A)(function*(){const n=t.router.getCurrentNavigation();n&&n.extras&&n.extras.state&&(t.userName=n.extras.state.user||"Usuario",t.role=n.extras.state.role||"estudiante");const l=yield t.loadingController.create({message:"Cargando asignaturas..."});yield l.present();try{yield t.obtenerAsignaturas()}catch(c){console.error("Error al obtener asignaturas:",c)}finally{t.isLoading=!1,l.dismiss()}})()}obtenerAsignaturas(){var t=this;return(0,d.A)(function*(){try{const n=yield t.apiService.getAll().toPromise();t.asignaturas=n}catch(n){console.error("Error al obtener asignaturas:",n),yield(yield t.alertController.create({header:"Error",message:"Hubo un problema al obtener las asignaturas. Intenta nuevamente.",buttons:["OK"]})).present()}})()}eliminarAsignatura(t){var n=this;return(0,d.A)(function*(){var c;yield(yield n.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar esta asignatura?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:(c=(0,d.A)(function*(){const m=yield n.loadingController.create({message:"Eliminando asignatura..."});yield m.present();try{const g=yield n.apiService.delete(t).toPromise();console.log("Respuesta de la eliminaci\xf3n:",g),n.asignaturas=n.asignaturas.filter(M=>M.id!==t),yield(yield n.alertController.create({header:"\xc9xito",message:"Asignatura eliminada correctamente.",buttons:["OK"]})).present()}catch(g){console.error("Error al eliminar asignatura:",g),yield(yield n.alertController.create({header:"Error",message:`No se pudo eliminar la asignatura. Detalles: ${g.message}`,buttons:["OK"]})).present()}finally{m.dismiss()}}),function(){return c.apply(this,arguments)})}]})).present()})()}logout(){sessionStorage.removeItem("username"),sessionStorage.removeItem("role"),this.router.navigate(["/login"])}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(u.Ix),e.rXU(b.G),e.rXU(r.hG),e.rXU(r.Xi))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:43,vars:5,consts:[["color","primary"],["slot","start"],[1,"ion-text-center"],["src","https://duoc.modyocdn.com/uploads/d1065e11-cde5-40b4-b58f-59004919c757/original/logo_duoc.svg","alt","Logo",1,"img-fluid","logo"],["slot","end"],["color","danger",1,"logout-button",3,"click"],[1,"welcome-container","ion-padding"],[1,"welcome-title"],[1,"welcome-subtitle"],["color","primary",1,"custom-card","docente-card","ion-padding"],[1,"image-container"],["alt","Docente","src","assets/images/Docentes.jpg",1,"docente-img"],[1,"card-title"],[1,"card-content"],[1,"button-container","ion-text-center"],["color","tertiary","routerLink","/asistencia-docente",1,"custom-button"],["slot","start","name","qr-code-outline"],["color","secondary","routerLink","/crear-asignatura",1,"custom-button"],["slot","start","name","add-circle-outline"],["color","light",1,"custom-card","asignaturas-card","ion-padding"],["lines","full"],["class","asignatura-item",4,"ngFor","ngForOf"],[1,"asignatura-item"],["name","book-outline","slot","start"],["fill","clear","color","danger",3,"click"],["name","trash-outline","slot","icon-only"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.nrm(5,"img",3),e.k0s(),e.j41(6,"ion-buttons",4)(7,"ion-button",5),e.bIt("click",function(){return n.logout()}),e.EFF(8,"Cerrar sesi\xf3n"),e.k0s()()()(),e.j41(9,"ion-content")(10,"div",6)(11,"h2",7),e.EFF(12),e.k0s(),e.j41(13,"p",8),e.EFF(14,"Aplicaci\xf3n para control de asistencia "),e.j41(15,"strong"),e.EFF(16,'"Docente"'),e.k0s()()(),e.j41(17,"ion-card",9)(18,"div",10),e.nrm(19,"img",11),e.k0s(),e.j41(20,"ion-card-header")(21,"ion-card-title",12),e.EFF(22,"Registro de Asistencia"),e.k0s()(),e.j41(23,"ion-card-content",13)(24,"p"),e.EFF(25,"Bienvenido a "),e.j41(26,"strong"),e.EFF(27,"RegistAPP6"),e.k0s(),e.EFF(28,", la aplicaci\xf3n para visualizar las asistencias a clases en DuocUC."),e.k0s(),e.j41(29,"div",14)(30,"ion-button",15),e.nrm(31,"ion-icon",16),e.EFF(32," Generar QR "),e.k0s(),e.j41(33,"ion-button",17),e.nrm(34,"ion-icon",18),e.EFF(35," Crear Asignatura "),e.k0s()()()(),e.j41(36,"ion-card",19)(37,"ion-card-header")(38,"ion-card-title",2),e.EFF(39,"Mis Asignaturas"),e.k0s()(),e.j41(40,"ion-card-content")(41,"ion-list",20),e.DNE(42,y,6,1,"ion-item",21),e.k0s()()()()),2&t&&(e.R7$(11),e.Y8G("@fadeIn",void 0),e.R7$(),e.SpI("Bienvenido ",n.userName,""),e.R7$(18),e.Y8G("@fadeIn",void 0),e.R7$(3),e.Y8G("@fadeIn",void 0),e.R7$(9),e.Y8G("ngForOf",n.asignaturas))},dependencies:[f.Sq,r.Jm,r.QW,r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.iq,r.uz,r.he,r.nf,r.MC,r.BC,r.ai,r.N7,u.Wk],styles:["ion-content[_ngcontent-%COMP%]{--background: #f4f5f8}.logout-button[_ngcontent-%COMP%]{font-weight:700;border-radius:20px}.welcome-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.welcome-title[_ngcontent-%COMP%]{font-size:2rem;color:#333}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666}.docente-card[_ngcontent-%COMP%]{margin:20px;border-radius:15px;overflow:hidden}.image-container[_ngcontent-%COMP%]{text-align:center;padding:15px}.docente-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:15px}.button-container[_ngcontent-%COMP%]{margin-top:15px}.custom-button[_ngcontent-%COMP%]{margin:5px;width:45%}.asignaturas-card[_ngcontent-%COMP%]{margin:20px;border-radius:15px}.asignatura-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px}"]}),a})()}];let P=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(C),u.iI]}),a})(),v=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[f.MD,h.YN,r.bv,P]}),a})()}}]);